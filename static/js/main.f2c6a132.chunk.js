(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{152:function(e,t,n){"use strict";n.r(t);var a=n(207),c=n(208),r=n(212),i=n(11),s=n(214),o=n(202),l=n(189),j=n(215),d=n(201),b=n(216),u=n(88),h=n(203),p=n(198),O=n(211),x=n(204),m=n(47),f=n(187),g=n(205),w=n(206),v=n(31),y=n.n(v),C=n(42),k=n(22),S=n(210),_=n(185),D=n(0),I=n.n(D),F=n(213),N=n(95),A=n.n(N),E=n(2),P=function(e){var t=e.onSearch,n=e.selectedCity,a=e.setSelectedCity,c=e.cityOptions,r=e.setCityOptions,s=e.isCityOptionsDisabled,o=e.selectedCountry,l=Object(D.useState)(!1),j=Object(i.a)(l,2),d=j[0],b=j[1],h=d&&0===c.length;return Object(D.useEffect)((function(){h&&Object(C.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://countriesnow.space/api/v0.1/countries/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:o})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.data);case 7:case"end":return e.stop()}}),e)})))()}),[h,o,r]),Object(E.jsx)(F.a,{autoHighlight:!0,open:d,loading:h,options:c,value:n,disabled:s,onOpen:function(){b(!0)},onClose:function(){b(!1)},renderInput:function(e){return Object(E.jsx)(S.a,Object(k.a)(Object(k.a)({},e),{},{label:"Search your city",placeholder:"ex. Manila",variant:"outlined",InputProps:Object(k.a)(Object(k.a)({},e.InputProps),{},{startAdornment:Object(E.jsx)(_.a,{position:"start",children:Object(E.jsx)(A.a,{})}),endAdornment:Object(E.jsxs)(E.Fragment,{children:[h?Object(E.jsx)(u.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,n,c){switch(c){case"select-option":a(n),t(n);break;case"clear":"click"===e.type&&(a(null),t(null))}}})},T=n(97),R=n.n(T),z=function(e){var t=e.onSearch,n=e.setSelectedCountry,a=e.setSelectedCity,c=e.setCityOptions,r=e.setIsCityOptionsDisabled,s=Object(D.useState)(!1),o=Object(i.a)(s,2),l=o[0],j=o[1],d=Object(D.useState)([]),b=Object(i.a)(d,2),h=b[0],p=b[1],O=l&&0===h.length;return Object(D.useEffect)((function(){O&&Object(C.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://countriesnow.space/api/v0.1/countries");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(n.data.map((function(e){return e.country})));case 7:case"end":return e.stop()}}),e)})))()}),[O]),Object(E.jsx)(F.a,{autoHighlight:!0,open:l,loading:O,options:h,onOpen:function(){j(!0)},onClose:function(){j(!1)},renderInput:function(e){return Object(E.jsx)(S.a,Object(k.a)(Object(k.a)({},e),{},{label:"Search your country",placeholder:"ex. Philippines",variant:"outlined",InputProps:Object(k.a)(Object(k.a)({},e.InputProps),{},{startAdornment:Object(E.jsx)(_.a,{position:"start",children:Object(E.jsx)(R.a,{})}),endAdornment:Object(E.jsxs)(E.Fragment,{children:[O?Object(E.jsx)(u.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,i,s){switch(s){case"select-option":r(!1),n(i);break;case"clear":"click"===e.type&&(a(null),r(!0),n(null),c([]),t(null))}}})},B=n(200),L=n(192),V=n(188),H=n(98),M=n.n(H),U=function(e){return Object(E.jsx)(f.a,{item:!0,component:V.a,className:"".concat(M.a.card," ").concat(e.className),elevation:e.elevation,xs:e.xs,sm:e.sm,md:e.md,children:e.children})},J=n(54),q=n(52),W=n(99),Y=n.n(W),G=n(18),K=n.n(G),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(e=e.toLowerCase()).split(" "),n=t.map((function(e){return e.charAt(0).toUpperCase()+e.substring(1,e.length)}));return n.join(" ")},X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.trim().replace(" ","+");e.target.onerror=null,e.target.src="https://dummyimage.com/100x100/cfcfcf/fff.jpg&text=".concat(n)},Z=function(e){var t=e.weathersData,n=Object(k.a)({},t[0]);return Object(E.jsxs)(f.a,{container:!0,children:[Object(E.jsxs)(f.a,{item:!0,xs:6,children:[Object(E.jsx)(Y.a,{src:"http://openweathermap.org/img/wn/".concat(n.weather[0].icon,"@2x.png"),title:Q(n.weather[0].description),color:"transparent",imageStyle:{width:"30%",height:"30%",position:"initial"},style:{position:"initial",paddingTop:"0"}}),Object(E.jsx)(m.a,{component:"p",children:K()(n.dt_txt).format("dddd")}),Object(E.jsx)(m.a,{variant:"h5",component:"h2",children:Q(n.weather[0].description)}),Object(E.jsx)(m.a,{variant:"h4",component:"p",children:Object(E.jsxs)("b",{children:[n.main.temp," \u2103"]})})]}),Object(E.jsxs)(f.a,{container:!0,item:!0,xs:6,justifyContent:"space-evenly",alignItems:"center",align:"center",children:[Object(E.jsxs)(f.a,{item:!0,children:[Object(E.jsx)(q.a,{icon:J.c}),Object(E.jsx)(m.a,{variant:"caption",component:"h3",children:"Humidity"}),Object(E.jsx)(m.a,{component:"p",children:Object(E.jsxs)("b",{children:[n.main.humidity," %"]})})]}),Object(E.jsxs)(f.a,{item:!0,children:[Object(E.jsx)(q.a,{icon:J.d}),Object(E.jsx)(m.a,{variant:"caption",component:"h3",children:"Wind Speed"}),Object(E.jsx)(m.a,{component:"p",children:Object(E.jsxs)("b",{children:[(3.6*n.wind.speed).toFixed(2)," km/h"]})})]}),Object(E.jsxs)(f.a,{item:!0,children:[Object(E.jsx)(q.a,{icon:J.a}),Object(E.jsx)(m.a,{variant:"caption",component:"h3",children:"Cloudiness"}),Object(E.jsx)(m.a,{component:"p",children:Object(E.jsxs)("b",{children:[n.clouds.all," %"]})})]}),Object(E.jsxs)(f.a,{item:!0,children:[Object(E.jsx)(q.a,{icon:J.b}),Object(E.jsx)(m.a,{variant:"caption",component:"h3",children:"Visibility"}),Object(E.jsx)(m.a,{component:"p",children:Object(E.jsxs)("b",{children:[n.visibility/1e3," km"]})})]})]}),Object(E.jsx)(f.a,{})]})},$=n(186),ee=n(190),te=n(191),ne=n(46),ae=Object(l.a)({card:{background:"transparent !important",whiteSpace:"nowrap"},card_others:{border:"none",boxShadow:"none"}}),ce=function(e){var t=e.weathersData,n=ae(),a=Object(k.a)({},t[0]),c=Object(D.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1],l=function(e){return!!s.find((function(t){return t===e}))};return Object(E.jsx)(ne.ScrollMenu,{LeftArrow:function(){var e=Object(D.useContext)(ne.VisibilityContext),t=e.isFirstItemVisible,n=e.scrollPrev;return Object(E.jsx)(O.a,{margin:"auto",marginRight:2,children:Object(E.jsx)($.a,{"aria-label":"left",disabled:t,onClick:function(){return n()},children:Object(E.jsx)(ee.a,{fontSize:"large"})})})},RightArrow:function(){var e=Object(D.useContext)(ne.VisibilityContext),t=e.isLastItemVisible,n=e.scrollNext;return Object(E.jsx)(O.a,{margin:"auto",marginLeft:2,children:Object(E.jsx)($.a,{"aria-label":"right",disabled:t,onClick:function(){return n()},children:Object(E.jsx)(te.a,{fontSize:"large"})})})},children:t.map((function(e,t){return Object(E.jsx)(O.a,{itemId:t,onClick:(c=t,function(){var e=l(c);o((function(t){return e?t.filter((function(e){return e!==c})):t.concat(c)}))}),selected:l(t),margin:2,children:Object(E.jsx)(U,{className:"".concat(n.card," ").concat(0!==t?n.card_others:""),elevation:0===t?5:0,children:Object(E.jsx)(L.a,{children:Object(E.jsxs)(f.a,{container:!0,direction:"column",children:[Object(E.jsx)(f.a,{item:!0,children:Object(E.jsx)(O.a,{marginBottom:3,children:Object(E.jsx)(m.a,{variant:"caption",component:"h3",children:K()(e.dt_txt).format("h A")})})}),Object(E.jsxs)(f.a,{item:!0,children:[Object(E.jsx)(m.a,{variant:"h4",component:"p",children:Object(E.jsxs)("b",{children:[a.main.temp," \u2103"]})}),0===t&&Object(E.jsxs)(m.a,{variant:"caption",component:"h4",children:["Feels like ",e.main.feels_like," \u2103"]})]})]})})})},t);var c}))})},re=function(e){var t=e.weathersData;return Object(E.jsx)(U,{children:Object(E.jsxs)(L.a,{children:[Object(E.jsx)(Z,{weathersData:t}),Object(E.jsx)("br",{}),Object(E.jsx)(ce,{weathersData:t})]})})},ie=n(199),se=n(193),oe=n(194),le=n(195),je=n(196),de=n(197),be=n(100),ue=n.n(be),he=Object(l.a)((function(){return{card:{width:"200px"},card_media:{display:"initial",width:"50%"},card_action_area:{textAlign:"center"}}})),pe=function(e){var t=e.weatherData,n=he(),a=K()(t.dt_txt);return Object(E.jsxs)(U,{className:n.card,children:[Object(E.jsxs)(se.a,{className:n.card_action_area,children:[Object(E.jsx)(oe.a,{align:"center",title:a.format("dddd")}),Object(E.jsx)(le.a,{className:n.card_media,component:"img",image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),title:Q(t.weather[0].description),alt:t.weather[0].description,onError:function(e){return X(e,t.weather[0].description)}}),Object(E.jsx)(L.a,{children:Object(E.jsxs)(m.a,{variant:"h5",component:"h2",align:"center",children:[t.main.temp,"\xb0"]})})]}),Object(E.jsx)(je.a,{disableSpacing:!0,children:Object(E.jsx)(de.a,{title:"Share",TransitionComponent:p.a,arrow:!0,disableFocusListener:!0,children:Object(E.jsx)($.a,{"aria-label":"share",children:Object(E.jsx)(ue.a,{})})})})]})},Oe=Object(l.a)({scroll_menu:{"& div:nth-child(1)":{justifyContent:"center"}}}),xe=function(e){var t=e.weathersData,n=Oe(),a=Object(ie.a)("(min-width:1024px)"),c=Object(D.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1],l=function(e){return!!s.find((function(t){return t===e}))};return Object(E.jsx)(ne.ScrollMenu,{wrapperClassName:a&&n.scroll_menu,children:t.map((function(e,t){return Object(E.jsx)(O.a,{itemId:t,onClick:(n=t,function(){var e=l(n);o((function(t){return e?t.filter((function(e){return e!==n})):t.concat(n)}))}),selected:l(t),margin:1,children:Object(E.jsx)(pe,{weatherData:e})},t);var n}))})},me=Object(l.a)((function(){return{card_media:{display:"initial",width:"30%"},card_action_area:{textAlign:"center"}}})),fe=function(e){var t=e.weatherData,n=e.cityData,a=me();return Object(E.jsx)(f.a,{container:!0,justifyContent:"center",children:Object(E.jsx)(U,{xs:10,sm:8,md:6,lg:4,children:Object(E.jsxs)(se.a,{className:a.card_action_area,children:[Object(E.jsx)(oe.a,{align:"center",title:"".concat(n.name,", ").concat(n.country)}),Object(E.jsx)(le.a,{className:a.card_media,component:"img",image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),title:Q(t.weather[0].description),alt:t.weather[0].description,onError:function(e){return X(e,t.weather[0].description)}}),Object(E.jsxs)(L.a,{children:[Object(E.jsxs)(m.a,{variant:"h5",component:"h2",align:"center",children:[t.main.temp,"\xb0"]}),Object(E.jsx)(m.a,{variant:"body2",component:"p",align:"center",children:Q(t.weather[0].description)})]})]})})})},ge=Object(l.a)({divider:{marginTop:"20px",marginBottom:"20px",height:"4px",borderRadius:"5px"}}),we=function(e){var t=ge(),n=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.weathersData.slice();n=t?n.filter((function(e){return!K()(e.dt_txt).isSame(K()(),"day")})):n;for(var a=[],c=function(e){var c=K()().add(t?a.length+1:a.length,"days"),r=n.filter((function(e){return K()(e.dt_txt).isSame(c,"day")}))[0];void 0===a.find((function(t){return K()(t.dt_txt).isSame(K()(n[e].dt_txt),"day")}))&&a.push(r)},r=0;r<n.length;r++)c(r);return a};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fe,{weatherData:e.weathersData[0],cityData:e.cityData}),Object(E.jsx)("br",{}),Object(E.jsx)(xe,{weathersData:n()}),Object(E.jsx)(B.a,{className:t.divider}),n(!1).map((function(t){return Object(E.jsxs)(D.Fragment,{children:[Object(E.jsx)(re,{weathersData:(n=t.dt_txt,e.weathersData.slice().filter((function(e){return K()(e.dt_txt).isSame(K()(n),"day")})))}),Object(E.jsx)("br",{})]},t.dt);var n}))]})},ve=function(e){var t=Object(D.useState)(null),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(D.useState)(null),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(D.useState)(null),d=Object(i.a)(j,2),b=d[0],u=d[1],h=Object(D.useState)(e),p=Object(i.a)(h,2),O=p[0],x=p[1];return Object(D.useEffect)((function(){O&&(u(!0),function(){var e=Object(C.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O);case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,t.ok){e.next=9;break}throw new Error(n.message);case 9:if(u(!1),!(n.cod>=400)){e.next=13;break}return l(n.message),e.abrupt("return");case 13:c(n),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),u(!1),l(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}()())}),[O]),{data:a,error:o,isLoading:b,setUrl:x,setData:c,setError:l}},ye=Object(l.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},snackbar:{textAlign:"initial"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),marginRight:e.spacing(1)}}})),Ce=function(){var e=ye(),t=Object(D.useState)(null),n=Object(i.a)(t,2),a=n[0],c=n[1],r=Object(D.useState)(null),l=Object(i.a)(r,2),v=l[0],y=l[1],C=Object(D.useState)([]),k=Object(i.a)(C,2),S=k[0],_=k[1],I=Object(D.useState)(!0),F=Object(i.a)(I,2),N=F[0],A=F[1],T=ve(),R=T.data,B=T.error,L=T.isLoading,V=T.setUrl,H=T.setData,M=T.setError,U=function(e){e?V("".concat("https://api.openweathermap.org/","/data/2.5/forecast?q=").concat(e,"&appid=").concat("34f38061357d6592fb59314ceb889161","&units=metric")):(V(null),H(null),M(null))},J=function(e,t){"clickaway"!==t&&M(null)},q=function(t){var n=t.children,a=t.window,c=Object(h.a)({target:a?a():void 0,disableHysteresis:!0,threshold:100});return Object(E.jsx)(p.a,{in:c,children:Object(E.jsx)("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:e.fab,children:n})})};return Object(E.jsx)(O.a,{marginTop:2,marginBottom:2,children:Object(E.jsxs)(x.a,{className:"App",children:[Object(E.jsx)(m.a,{variant:"h4",component:"h2",align:"center",id:"back-to-top-anchor",children:"Check Your Weather"}),Object(E.jsx)(O.a,{marginTop:2,marginBottom:2,children:Object(E.jsxs)(f.a,{container:!0,spacing:3,children:[Object(E.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,children:Object(E.jsx)(z,{onSearch:U,setSelectedCountry:c,setSelectedCity:y,setCityOptions:_,setIsCityOptionsDisabled:A})}),Object(E.jsx)(f.a,{item:!0,xs:12,sm:6,md:6,children:Object(E.jsx)(P,{onSearch:U,selectedCity:v,setSelectedCity:y,cityOptions:S,setCityOptions:_,isCityOptionsDisabled:N,selectedCountry:a})})]})}),B?Object(E.jsx)(j.a,{className:e.snackbar,open:!0,autoHideDuration:1e4,TransitionComponent:d.a,onClose:J,children:Object(E.jsxs)(s.a,{severity:"error",onClose:J,children:[Object(E.jsx)(o.a,{children:"Error"}),B]})}):!R&&L?Object(E.jsx)(b.a,{className:e.backdrop,open:!0,children:Object(E.jsx)(u.a,{color:"inherit"})}):R?Object(E.jsx)(we,{weathersData:R.list,cityData:R.city}):null,Object(E.jsx)(q,{children:Object(E.jsxs)(g.a,{variant:"extended","aria-label":"scroll back to top",children:[Object(E.jsx)(w.a,{}),"Back To Top"]})})]})})},ke=n(209),Se=n(13),_e=n.n(Se),De=Object(a.a)({typography:{fontFamily:"Ubuntu"},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{borderRadius:"5px",width:"7px",backgroundColor:"#F5F5F5",height:"7px"},"*::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.3)",borderRadius:"5px",backgroundColor:"#F5F5F5"},"*::-webkit-scrollbar-thumb":{borderRadius:"5px",boxShadow:"inset 0 0 6px rgba(0,0,0,0.3)",backgroundColor:"#555"},body:{backgroundImage:"url(assets/weather-bg.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}}}});_e.a.render(Object(E.jsx)(I.a.StrictMode,{children:Object(E.jsx)(c.a,{theme:De,children:Object(E.jsxs)(r.b,{injectFirst:!0,children:[Object(E.jsx)(ke.a,{}),Object(E.jsx)(Ce,{})]})})}),document.getElementById("root"))},98:function(e,t,n){e.exports={card:"CardUI_card__2d1md"}}},[[152,1,2]]]);
//# sourceMappingURL=main.f2c6a132.chunk.js.map