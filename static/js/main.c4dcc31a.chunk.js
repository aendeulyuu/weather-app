(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var a=n(161),r=n(162),c=n(166),i=n(11),s=n(168),o=n(159),l=n(156),u=n(169),j=n(158),d=n(170),p=n(145),b=n(165),h=n(160),O=n(46),x=n(147),m=n(30),f=n.n(m),g=n(42),y=n(21),w=n(164),v=n(144),C=n(0),S=n.n(C),k=n(167),D=n(81),I=n.n(D),_=n(4),A=function(e){var t=e.onSearch,n=e.selectedCity,a=e.setSelectedCity,r=e.cityOptions,c=e.setCityOptions,s=e.isCityOptionsDisabled,o=e.selectedCountry,l=Object(C.useState)(!1),u=Object(i.a)(l,2),j=u[0],d=u[1],b=j&&0===r.length;return Object(C.useEffect)((function(){b&&Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://countriesnow.space/api/v0.1/countries/cities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({country:o})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.data);case 7:case"end":return e.stop()}}),e)})))()}),[b,o,c]),Object(_.jsx)(k.a,{autoHighlight:!0,open:j,loading:b,options:r,value:n,disabled:s,onOpen:function(){d(!0)},onClose:function(){d(!1)},renderInput:function(e){return Object(_.jsx)(w.a,Object(y.a)(Object(y.a)({},e),{},{label:"Search your city",placeholder:"ex. Manila",variant:"outlined",InputProps:Object(y.a)(Object(y.a)({},e.InputProps),{},{startAdornment:Object(_.jsx)(v.a,{position:"start",children:Object(_.jsx)(I.a,{})}),endAdornment:Object(_.jsxs)(_.Fragment,{children:[b?Object(_.jsx)(p.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,n,r){switch(r){case"select-option":a(n),t(n);break;case"clear":"click"===e.type&&(a(null),t(null))}}})},E=n(83),P=n.n(E),N=function(e){var t=e.onSearch,n=e.setSelectedCountry,a=e.setSelectedCity,r=e.setCityOptions,c=e.setIsCityOptionsDisabled,s=Object(C.useState)(!1),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(C.useState)([]),d=Object(i.a)(j,2),b=d[0],h=d[1],O=l&&0===b.length;return Object(C.useEffect)((function(){O&&Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://countriesnow.space/api/v0.1/countries");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,h(n.data.map((function(e){return e.country})));case 7:case"end":return e.stop()}}),e)})))()}),[O]),Object(_.jsx)(k.a,{autoHighlight:!0,open:l,loading:O,options:b,onOpen:function(){u(!0)},onClose:function(){u(!1)},renderInput:function(e){return Object(_.jsx)(w.a,Object(y.a)(Object(y.a)({},e),{},{label:"Search your country",placeholder:"ex. Philippines",variant:"outlined",InputProps:Object(y.a)(Object(y.a)({},e.InputProps),{},{startAdornment:Object(_.jsx)(v.a,{position:"start",children:Object(_.jsx)(P.a,{})}),endAdornment:Object(_.jsxs)(_.Fragment,{children:[O?Object(_.jsx)(p.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})})}))},onChange:function(e,i,s){switch(s){case"select-option":c(!1),n(i);break;case"clear":"click"===e.type&&(a(null),c(!0),n(null),r([]),t(null))}}})},T=n(157),B=n(149),z=n(150),F=n(151),L=n(152),U=n(153),H=n(154),J=n(155),M=n(146),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(e=e.toLowerCase()).split(" "),n=t.map((function(e){return e.charAt(0).toUpperCase()+e.substring(1,e.length)}));return n.join(" ")},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.trim().replace(" ","+");e.target.onerror=null,e.target.src="https://dummyimage.com/100x100/cfcfcf/fff.jpg&text=".concat(n)},W=n(148),Y=n(84),G=n.n(Y),K=function(e){return Object(_.jsx)(x.a,{item:!0,component:W.a,className:G.a.card,xs:e.xs,sm:e.sm,md:e.md,children:e.children})},Q=n(85),V=n.n(Q),X=n(23),Z=n.n(X),$=function(e){var t=Object(y.a)({},e.weatherData),n=Z()(t.dt_txt);return Object(_.jsxs)(K,{xs:6,sm:4,lg:3,children:[Object(_.jsxs)(B.a,{children:[Object(_.jsx)(z.a,{align:"center",title:n.format("dddd")}),Object(_.jsx)(F.a,{component:"img",image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),title:R(t.weather[0].description),alt:t.weather[0].description,onError:function(e){return q(e,t.weather[0].description)}}),Object(_.jsx)(L.a,{children:Object(_.jsxs)(O.a,{variant:"body2",component:"p",align:"center",children:[t.main.temp,"\xb0"]})})]}),Object(_.jsx)(U.a,{disableSpacing:!0,children:Object(_.jsx)(H.a,{title:"Share",TransitionComponent:J.a,arrow:!0,disableFocusListener:!0,children:Object(_.jsx)(M.a,{"aria-label":"share",children:Object(_.jsx)(V.a,{})})})})]})},ee=Object(l.a)((function(){return{card_media:{display:"initial",width:"50%"},card_action_area:{textAlign:"center"}}})),te=function(e){var t=e.weatherData,n=e.cityData,a=ee();return Object(_.jsx)(x.a,{container:!0,justifyContent:"center",children:Object(_.jsx)(K,{xs:10,sm:8,md:6,lg:4,children:Object(_.jsxs)(B.a,{className:a.card_action_area,children:[Object(_.jsx)(z.a,{align:"center",title:"".concat(n.name,", ").concat(n.country)}),Object(_.jsx)(F.a,{className:a.card_media,component:"img",image:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),title:R(t.weather[0].description),alt:t.weather[0].description,onError:function(e){return q(e,t.weather[0].description)}}),Object(_.jsxs)(L.a,{children:[Object(_.jsxs)(O.a,{gutterBottom:!0,variant:"h5",component:"h2",align:"center",children:[t.main.temp,"\xb0"]}),Object(_.jsx)(O.a,{variant:"body2",component:"p",align:"center",children:R(t.weather[0].description)})]})]})})})},ne=Object(l.a)({divider:{marginTop:"20px",marginBottom:"20px",height:"4px",borderRadius:"5px"}}),ae=function(e){var t=ne();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(te,{weatherData:e.weathersData[0],cityData:e.cityData}),Object(_.jsx)(T.a,{className:t.divider}),Object(_.jsx)(x.a,{container:!0,alignItems:"stretch",children:function(){for(var t=e.weathersData.slice().filter((function(e){return!Z()(e.dt_txt).isSame(Z()(),"day")})),n=[],a=function(e){var a=Z()().add(n.length+1,"days"),r=t.filter((function(e){return Z()(e.dt_txt).isSame(a,"day")}))[0];void 0===n.find((function(n){return Z()(n.dt_txt).isSame(Z()(t[e].dt_txt),"day")}))&&n.push(r)},r=0;r<t.length;r++)a(r);return n}().map((function(e){return Object(_.jsx)($,{weatherData:e},e.dt)}))})]})},re=function(e){var t=Object(C.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1],c=Object(C.useState)(null),s=Object(i.a)(c,2),o=s[0],l=s[1],u=Object(C.useState)(null),j=Object(i.a)(u,2),d=j[0],p=j[1],b=Object(C.useState)(e),h=Object(i.a)(b,2),O=h[0],x=h[1];return Object(C.useEffect)((function(){O&&(p(!0),function(){var e=Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O);case 3:return t=e.sent,e.next=6,t.json();case 6:if(n=e.sent,t.ok){e.next=9;break}throw new Error(n.message);case 9:if(p(!1),!(n.cod>=400)){e.next=13;break}return l(n.message),e.abrupt("return");case 13:r(n),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),p(!1),l(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}()())}),[O]),{data:a,error:o,isLoading:d,setUrl:x,setData:r,setError:l}},ce=Object(l.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},snackbar:{textAlign:"initial"}}})),ie=function(){var e=ce(),t=Object(C.useState)(null),n=Object(i.a)(t,2),a=n[0],r=n[1],c=Object(C.useState)(null),l=Object(i.a)(c,2),m=l[0],f=l[1],g=Object(C.useState)([]),y=Object(i.a)(g,2),w=y[0],v=y[1],S=Object(C.useState)(!0),k=Object(i.a)(S,2),D=k[0],I=k[1],E=re(),P=E.data,T=E.error,B=E.isLoading,z=E.setUrl,F=E.setData,L=E.setError,U=function(e){e?z("".concat("https://api.openweathermap.org/","/data/2.5/forecast?q=").concat(e,"&appid=").concat("34f38061357d6592fb59314ceb889161","&units=metric")):(z(null),F(null),L(null))},H=function(e,t){"clickaway"!==t&&L(null)};return Object(_.jsx)(b.a,{marginTop:2,marginBottom:2,children:Object(_.jsxs)(h.a,{className:"App",children:[Object(_.jsx)(O.a,{variant:"h4",component:"h2",align:"center",children:"Check Your Weather"}),Object(_.jsx)(b.a,{marginTop:2,marginBottom:2,children:Object(_.jsxs)(x.a,{container:!0,spacing:3,children:[Object(_.jsx)(x.a,{item:!0,xs:12,sm:6,md:6,children:Object(_.jsx)(N,{onSearch:U,setSelectedCountry:r,setSelectedCity:f,setCityOptions:v,setIsCityOptionsDisabled:I})}),Object(_.jsx)(x.a,{item:!0,xs:12,sm:6,md:6,children:Object(_.jsx)(A,{onSearch:U,selectedCity:m,setSelectedCity:f,cityOptions:w,setCityOptions:v,isCityOptionsDisabled:D,selectedCountry:a})})]})}),T?Object(_.jsx)(u.a,{className:e.snackbar,open:!0,autoHideDuration:1e4,TransitionComponent:j.a,onClose:H,children:Object(_.jsxs)(s.a,{severity:"error",onClose:H,children:[Object(_.jsx)(o.a,{children:"Error"}),T]})}):!P&&B?Object(_.jsx)(d.a,{className:e.backdrop,open:!0,children:Object(_.jsx)(p.a,{color:"inherit"})}):P?Object(_.jsx)(ae,{weathersData:P.list,cityData:P.city}):null]})})},se=n(163),oe=n(13),le=n.n(oe),ue=Object(a.a)({overrides:{MuiCssBaseline:{"@global":{body:{backgroundImage:"url(assets/weather-bg.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}}}});le.a.render(Object(_.jsx)(S.a.StrictMode,{children:Object(_.jsx)(r.a,{theme:ue,children:Object(_.jsxs)(c.b,{injectFirst:!0,children:[Object(_.jsx)(se.a,{}),Object(_.jsx)(ie,{})]})})}),document.getElementById("root"))},84:function(e,t,n){e.exports={card:"CardUI_card__2d1md"}}},[[111,1,2]]]);
//# sourceMappingURL=main.c4dcc31a.chunk.js.map